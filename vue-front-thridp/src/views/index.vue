<template>
  <div>

    <!--
    <div class="tag-container">
      <div class="sticky_layout">
        <div class="card-widget card-categories">
          <div class="card-content">
            <div class="item-headline"><i class="fas fa-folder-open"></i><span>分类</span></div>
            <ul class="card-category-list" id="aside-cat-list">
              <li class="card-category-list-item parent"><a class="card-category-list-link"
                                                            href="/categories/%E4%B8%AA%E4%BA%BA%E9%A1%B9%E7%9B%AE/"
                                                            data-pjax-state=""><span
                  class="card-category-list-name">个人项目</span><span class="card-category-list-count"> 2</span><i
                  class="fas fa-caret-left "></i></a></li>
              <ul class="card-category-list child">
                <li class="card-category-list-item "><a class="card-category-list-link"
                                                        href="/categories/%E4%B8%AA%E4%BA%BA%E9%A1%B9%E7%9B%AE/%E4%BD%9C%E4%B8%9A%E4%BA%92%E8%AF%84-python/"
                                                        data-pjax-state=""><span class="card-category-list-name">作业互评 (python)</span><span
                    class="card-category-list-count">1</span></a></li>
                <li class="card-category-list-item "><a class="card-category-list-link"
                                                        href="/categories/%E4%B8%AA%E4%BA%BA%E9%A1%B9%E7%9B%AE/%E5%A4%A9%E6%B0%94%E6%8E%A8%E9%80%81-python/"
                                                        data-pjax-state=""><span class="card-category-list-name">天气推送 (python)</span><span
                    class="card-category-list-count">1</span></a></li>
              </ul>
              <li class="card-category-list-item parent"><a class="card-category-list-link"
                                                            href="/categories/%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/"
                                                            data-pjax-state=""><span
                  class="card-category-list-name">使用教程</span><span class="card-category-list-count"> 1</span><i
                  class="fas fa-caret-left "></i></a></li>
              <ul class="card-category-list child">
                <li class="card-category-list-item "><a class="card-category-list-link"
                                                        href="/categories/%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/WebSSH/"
                                                        data-pjax-state=""><span
                    class="card-category-list-name">WebSSH</span><span class="card-category-list-count">1</span></a></li>
              </ul>
              <li class="card-category-list-item parent"><a class="card-category-list-link"
                                                            href="/categories/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/"
                                                            data-pjax-state=""><span
                  class="card-category-list-name">博客搭建</span><span class="card-category-list-count"> 7</span><i
                  class="fas fa-caret-left "></i></a></li>
              <ul class="card-category-list child">
                <li class="card-category-list-item "><a class="card-category-list-link"
                                                        href="/categories/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/CDN/"
                                                        data-pjax-state=""><span
                    class="card-category-list-name">CDN</span><span class="card-category-list-count">1</span></a></li>
                <li class="card-category-list-item "><a class="card-category-list-link"
                                                        href="/categories/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/Zeit-co/"
                                                        data-pjax-state=""><span
                    class="card-category-list-name">Zeit.co</span><span class="card-category-list-count">1</span></a></li>
                <li class="card-category-list-item "><a class="card-category-list-link"
                                                        href="/categories/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/%E5%9B%BE%E5%BA%8A/"
                                                        data-pjax-state=""><span
                    class="card-category-list-name">图床</span><span class="card-category-list-count"> 2</span></a></li>
                <li class="card-category-list-item "><a class="card-category-list-link"
                                                        href="/categories/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/%E6%89%93%E8%B5%8F%E7%B3%BB%E7%BB%9F/"
                                                        data-pjax-state=""><span class="card-category-list-name">打赏系统</span><span
                    class="card-category-list-count"> 1</span></a></li>
                <li class="card-category-list-item "><a class="card-category-list-link"
                                                        href="/categories/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/%E6%8F%92%E4%BB%B6/"
                                                        data-pjax-state=""><span
                    class="card-category-list-name">插件</span><span class="card-category-list-count"> 1</span></a></li>
                <li class="card-category-list-item "><a class="card-category-list-link"
                                                        href="/categories/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/%E8%83%8C%E6%99%AF%E9%9F%B3%E4%B9%90/"
                                                        data-pjax-state=""><span class="card-category-list-name">背景音乐</span><span
                    class="card-category-list-count"> 1</span></a></li>
              </ul>
              <li class="card-category-list-item parent"><a class="card-category-list-link"
                                                            href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"
                                                            data-pjax-state=""><span
                  class="card-category-list-name">学习笔记</span><span class="card-category-list-count"> 22</span><i
                  class="fas fa-caret-left "></i></a></li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    -->
    <div class="tag-cloud-container">
      <div class="tag-cloud" style="background: none;">
        <ul class="cloud" role="navigation" aria-label="Webdev tag cloud">
          <li v-for="tag in tagList" :id="tag.uid">
            <a :data-weight="tag.weight" :href="tag.name">{{ tag.name }}</a>
          </li>

        </ul>
      </div>
    </div>

    <div class="notice" style="margin-top:60px">
      <i class="iconfont icon-notification"></i>
      <div class="notice-content">思绪如风，来得快去得也快，偶尔在这里停留  ~&gt;ω&lt;</div>
    </div>
    <top-list/>
    <main-list :categoryUid="'1'"></main-list>

  </div>


</template>

<script>
import {visitRecord} from "../api/article";
import {getTagList} from "../api/tag";

export default {
  name: "index",
  components: {
    TopList: () => import('@/components/TopList'),
    MainList: () => import('@/components/List'),
  },
  data: () => ({
    tagList: [],
  }),
  created() {
    visitRecord();
    getTagList().then(response=>{
      if (response.state === this.$STATE.SUCCESS){
        this.tagList = response.data;
        console.log(response.data);
      }else {
        alert(response.message);
        alert('获取标签列表失败');
      }
    })
  }
}
</script>

<style scoped>
.tag-cloud-container {
  z-index: 98;
  width: 200px;
  height: 100%;
  background-color: rgba(255, 255, 255, 0);
  transform: translateX(0);
  right: calc((100% - 950px - 250px)/ 2);
  position: absolute !important;
  top: 100%;
  position: absolute;
  padding-top: 10px;
  padding-bottom: 10px
}

.tag-cloud {
  position: -webkit-sticky;
  position: sticky;
  top: 100px
}

@media (max-width:860px) {
  .tag-cloud-container {
    display: none
  }
}

.tag-cloud {
  overflow-y: auto
}

.tag-cloud>.tag-cloud-list {
  overflow: hidden;
  position: relative
}

.tag-cloud>.tag-cloud-list li {
  list-style: none
}

.tag-cloud-list {
  margin: 0;
  padding-left: 10px
}

a.tag-cloud-link {
  color: currentColor;
  height: 100%
}

.tag-cloud-link::before {
  background-color: #EEE;
  content: ' ';
  display: inline-block;
  height: inherit;
  left: 0;
  margin-top: -1px;
  position: absolute;
  width: 2px
}
h1[id*=tag-cloud-head]::before,h2[id*=tag-cloud-head]::before,h3[id*=tag-cloud-head]::before,h4[id*=tag-cloud-head]::before,h5[id*=tag-cloud-head]::before,h6[id*=tag-cloud-head]::before {
  display:block;
  content:" ";
  height:80px;
  margin-top:-80px;
  visibility:hidden
}

ul.cloud {
  list-style: none;
  padding-left: 0;
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  justify-content: center;
  line-height: 2.5rem;
}
ul.cloud a {
  color: #a33;
  display: block;
  font-size: 0.15rem;
  padding: 0.0125rem 0.025rem;
  text-decoration: none;
  position: relative;
}
ul.cloud a[data-weight="1"] { --size: 1; }
ul.cloud a[data-weight="2"] { --size: 2; }
ul.cloud a[data-weight="3"] { --size: 3; }
ul.cloud a[data-weight="4"] { --size: 4; }
ul.cloud a[data-weight="5"] { --size: 5; }
ul.cloud a[data-weight="6"] { --size: 6; }
ul.cloud a[data-weight="7"] { --size: 7; }
ul.cloud a[data-weight="8"] { --size: 8; }
ul.cloud a[data-weight="9"] { --size: 9; }

ul.cloud a:focus {
  outline: 1px dashed;
}
ul.cloud a::before {
  content: "";
  position: absolute;
  top: 0;
  left: 50%;
  width: 0;
  height: 100%;
  background: var(--color);
  transform: translate(-50%, 0);
  opacity: 0.15;
  transition: width 0.25s;
}

ul.cloud a:focus::before,
ul.cloud a:hover::before {
  width: 100%;
}
ul.cloud a {
  --size: 4;
  font-size: calc(var(--size) * 0.025rem + 0.05rem);
  /* ... */
}

ul.cloud[data-show-value] a::after {
  content: " (" attr(data-weight) ")";
  font-size: 0.1rem;
}
ul.cloud li:nth-child(2n+1) a { --color: #181; }
ul.cloud li:nth-child(3n+1) a { --color: #33a; }
ul.cloud li:nth-child(4n+1) a { --color: #c38; }

@media (prefers-reduced-motion) {
  ul.cloud * {
    transition: none !important;
  }
}
</style>